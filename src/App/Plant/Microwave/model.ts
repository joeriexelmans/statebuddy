import { ConcreteSyntax } from "@/App/VisualEditor/VisualEditor";
import { detectConnections } from "@/statecharts/detect_connections";
import { parseStatechart } from "@/statecharts/parser";

// export const microwaveConcreteSyntax: ConcreteSyntax = {"rountangles":[{"uid":"25","topLeft":{"x":134.99999999999972,"y":136.9999999999999},"size":{"x":1686.9999999999995,"y":623.9999999999997},"kind":"and"},{"uid":"24","topLeft":{"x":517.9999999999994,"y":173.99999999999983},"size":{"x":482.99999999999943,"y":554.9999999999998},"kind":"or"},{"uid":"57","topLeft":{"x":1403.999999999999,"y":175.9999999999999},"size":{"x":378.99999999999983,"y":553.9999999999997},"kind":"or"},{"uid":"32","topLeft":{"x":558.9999999999993,"y":240.99999999999983},"size":{"x":392.9999999999999,"y":462.99999999999983},"kind":"or"},{"uid":"43","topLeft":{"x":1034.999999999999,"y":180.9999999999999},"size":{"x":328.9999999999999,"y":549.9999999999998},"kind":"or"},{"uid":"23","topLeft":{"x":169.99999999999972,"y":170.99999999999983},"size":{"x":317.9999999999998,"y":556.9999999999998},"kind":"or"},{"uid":"13","topLeft":{"x":232.99999999999972,"y":550.9999999999997},"size":{"x":198.9999999999999,"y":124.99999999999994},"kind":"and"},{"uid":"28","topLeft":{"x":728.9999999999993,"y":551.9999999999997},"size":{"x":183.99999999999994,"y":108.99999999999994},"kind":"and"},{"uid":"11","topLeft":{"x":244.99999999999972,"y":298.9999999999998},"size":{"x":183.99999999999994,"y":94.99999999999994},"kind":"and"},{"uid":"58","topLeft":{"x":1447.9999999999989,"y":407.9999999999997},"size":{"x":148.99999999999994,"y":113.99999999999997},"kind":"and"},{"uid":"44","topLeft":{"x":1128.9999999999989,"y":306.9999999999998},"size":{"x":156.99999999999994,"y":102.99999999999996},"kind":"and"},{"uid":"27","topLeft":{"x":731.9999999999993,"y":316.9999999999998},"size":{"x":173.9999999999999,"y":87.99999999999996},"kind":"and"},{"uid":"45","topLeft":{"x":1133.9999999999989,"y":571.9999999999997},"size":{"x":162.99999999999997,"y":89.99999999999999},"kind":"and"}],"diamonds":[{"uid":"34","topLeft":{"x":657.9999999999993,"y":458.99999999999966},"size":{"x":59,"y":60}}],"history":[],"arrows":[{"uid":"18","start":{"x":376.99999999999955,"y":393.9999999999998},"end":{"x":375.99999999999955,"y":541.9999999999998}},{"uid":"20","start":{"x":279.9999999999997,"y":547.9999999999997},"end":{"x":279.9999999999997,"y":401.99999999999966}},{"uid":"22","start":{"x":278.9999999999997,"y":244.99999999999977},"end":{"x":310.99999999999966,"y":295.9999999999998}},{"uid":"26","start":{"x":202.99999999999972,"y":82.99999999999991},"end":{"x":245.99999999999972,"y":130.99999999999983}},{"uid":"29","start":{"x":559.9999999999993,"y":493.99999999999966},"end":{"x":652.9999999999993,"y":492.99999999999966}},{"uid":"30","start":{"x":791.9999999999993,"y":275.99999999999983},"end":{"x":808.9999999999993,"y":306.99999999999983}},{"uid":"33","start":{"x":630.9999999999993,"y":201.99999999999986},"end":{"x":671.9999999999993,"y":234.99999999999986}},{"uid":"35","start":{"x":691.9999999999993,"y":517.9999999999997},"end":{"x":730.9999999999993,"y":553.9999999999997}},{"uid":"37","start":{"x":687.9999999999993,"y":458.99999999999966},"end":{"x":733.9999999999993,"y":398.99999999999966}},{"uid":"46","start":{"x":1163.9999999999989,"y":238.99999999999983},"end":{"x":1206.9999999999989,"y":303.99999999999983}},{"uid":"47","start":{"x":1260.9999999999989,"y":410.9999999999997},"end":{"x":1261.9999999999989,"y":569.9999999999997}},{"uid":"48","start":{"x":1170.9999999999989,"y":568.9999999999997},"end":{"x":1169.9999999999989,"y":413.99999999999966}},{"uid":"59","start":{"x":1600.9999999999989,"y":470.9999999999997},"end":{"x":1546.9999999999989,"y":524.9999999999997}},{"uid":"66","start":{"x":1467.9999999999989,"y":355.9999999999998},"end":{"x":1528.9999999999989,"y":402.9999999999998}}],"texts":[{"uid":"12","text":"// Door closed","topLeft":{"x":336.99999999999955,"y":334.99999999999983}},{"uid":"14","text":"// Door opened","topLeft":{"x":331.9999999999993,"y":592.9999999999997}},{"uid":"15","text":"entry / ^door(\"closed\")","topLeft":{"x":335.99999999999966,"y":364.9999999999998}},{"uid":"16","text":"entry / ^door(\"open\")","topLeft":{"x":331.99999999999966,"y":642.9999999999997}},{"uid":"19","text":"toggleDoor","topLeft":{"x":267.9999999999996,"y":463.9999999999998}},{"uid":"21","text":"toggleDoor","topLeft":{"x":373.99999999999955,"y":485.9999999999998}},{"uid":"31","text":"setMagnetron(state)","topLeft":{"x":616.9999999999993,"y":480.99999999999955}},{"uid":"36","text":"[state==\"on\"]","topLeft":{"x":718.9999999999991,"y":537.9999999999997}},{"uid":"38","text":"[state == \"off\"]","topLeft":{"x":706.9999999999993,"y":439.9999999999997}},{"uid":"39","text":"// Magnetron off","topLeft":{"x":818.9999999999991,"y":364.9999999999998}},{"uid":"40","text":"// Magnetron on","topLeft":{"x":824.9999999999991,"y":613.9999999999995}},{"uid":"49","text":"ringBell","topLeft":{"x":1269.9999999999989,"y":496.99999999999966}},{"uid":"50","text":"after 10 ms","topLeft":{"x":1163.9999999999989,"y":490.99999999999966}},{"uid":"51","text":"// bell","topLeft":{"x":1212.9999999999989,"y":616.9999999999995}},{"uid":"52","text":"// no bell","topLeft":{"x":1205.9999999999989,"y":364.9999999999998}},{"uid":"60","text":"setTimeDisplay(value) / timeDisplay = value;","topLeft":{"x":1610.9999999999989,"y":498.9999999999998}},{"uid":"65","text":"entry / timeDisplay = 0;","topLeft":{"x":435.9999999999997,"y":102.99999999999996}}]};


export const microwaveConcreteSyntax: ConcreteSyntax = {"rountangles":[{"uid":"25","topLeft":{"x":53.99999999999977,"y":125.99999999999989},"size":{"x":2025.9999999999995,"y":623.9999999999997},"kind":"and"},{"uid":"57","topLeft":{"x":1432.999999999999,"y":164.9999999999999},"size":{"x":607.9999999999998,"y":553.9999999999997},"kind":"or"},{"uid":"24","topLeft":{"x":546.9999999999994,"y":162.99999999999983},"size":{"x":482.99999999999943,"y":554.9999999999998},"kind":"or"},{"uid":"23","topLeft":{"x":88.99999999999974,"y":159.99999999999983},"size":{"x":427.9999999999998,"y":556.9999999999998},"kind":"or"},{"uid":"32","topLeft":{"x":587.9999999999993,"y":229.99999999999983},"size":{"x":392.9999999999999,"y":462.99999999999983},"kind":"or"},{"uid":"43","topLeft":{"x":1063.999999999999,"y":169.9999999999999},"size":{"x":328.9999999999999,"y":549.9999999999998},"kind":"or"},{"uid":"58","topLeft":{"x":1638.9999999999989,"y":248.99999999999972},"size":{"x":148.99999999999994,"y":389.99999999999994},"kind":"and"},{"uid":"13","topLeft":{"x":261.9999999999997,"y":539.9999999999997},"size":{"x":198.9999999999999,"y":124.99999999999994},"kind":"and"},{"uid":"28","topLeft":{"x":757.9999999999993,"y":540.9999999999997},"size":{"x":183.99999999999994,"y":108.99999999999994},"kind":"and"},{"uid":"11","topLeft":{"x":273.9999999999997,"y":287.9999999999998},"size":{"x":183.99999999999994,"y":94.99999999999994},"kind":"and"},{"uid":"44","topLeft":{"x":1157.9999999999989,"y":295.9999999999998},"size":{"x":156.99999999999994,"y":102.99999999999996},"kind":"and"},{"uid":"27","topLeft":{"x":760.9999999999993,"y":305.9999999999998},"size":{"x":173.9999999999999,"y":87.99999999999996},"kind":"and"},{"uid":"45","topLeft":{"x":1162.9999999999989,"y":560.9999999999997},"size":{"x":162.99999999999997,"y":89.99999999999999},"kind":"and"},{"uid":"80","topLeft":{"x":127.99999999999993,"y":426.9999999999997},"size":{"x":108.99999999999996,"y":73.99999999999997},"kind":"and"}],"diamonds":[{"uid":"34","topLeft":{"x":686.9999999999993,"y":447.99999999999966},"size":{"x":59,"y":60}}],"history":[],"arrows":[{"uid":"18","start":{"x":405.99999999999955,"y":382.9999999999998},"end":{"x":404.99999999999955,"y":530.9999999999998}},{"uid":"20","start":{"x":308.9999999999997,"y":536.9999999999997},"end":{"x":240.99999999999972,"y":503.99999999999966}},{"uid":"22","start":{"x":307.9999999999997,"y":233.99999999999977},"end":{"x":339.99999999999966,"y":284.9999999999998}},{"uid":"26","start":{"x":231.99999999999972,"y":71.99999999999991},"end":{"x":274.9999999999997,"y":119.99999999999983}},{"uid":"29","start":{"x":588.9999999999993,"y":482.99999999999966},"end":{"x":681.9999999999993,"y":481.99999999999966}},{"uid":"30","start":{"x":820.9999999999993,"y":264.99999999999983},"end":{"x":837.9999999999993,"y":295.99999999999983}},{"uid":"33","start":{"x":659.9999999999993,"y":190.99999999999986},"end":{"x":700.9999999999993,"y":223.99999999999986}},{"uid":"35","start":{"x":720.9999999999993,"y":506.99999999999966},"end":{"x":759.9999999999993,"y":542.9999999999997}},{"uid":"37","start":{"x":716.9999999999993,"y":447.99999999999966},"end":{"x":762.9999999999993,"y":387.99999999999966}},{"uid":"46","start":{"x":1192.9999999999989,"y":227.99999999999983},"end":{"x":1235.9999999999989,"y":292.99999999999983}},{"uid":"47","start":{"x":1289.9999999999989,"y":399.9999999999997},"end":{"x":1290.9999999999989,"y":558.9999999999997}},{"uid":"48","start":{"x":1199.9999999999989,"y":557.9999999999997},"end":{"x":1198.9999999999989,"y":402.99999999999966}},{"uid":"59","start":{"x":1789.9999999999989,"y":587.9999999999997},"end":{"x":1736.9999999999989,"y":643.9999999999997}},{"uid":"66","start":{"x":1643.9999999999989,"y":200.99999999999977},"end":{"x":1672.9999999999989,"y":242.99999999999977}},{"uid":"67","start":{"x":1633.9999999999989,"y":322.99999999999983},"end":{"x":1630.9999999999989,"y":367.99999999999983}},{"uid":"70","start":{"x":1632.9999999999989,"y":405.99999999999983},"end":{"x":1629.9999999999989,"y":450.99999999999983}},{"uid":"72","start":{"x":1632.9999999999989,"y":482.99999999999983},"end":{"x":1629.9999999999989,"y":527.9999999999998}},{"uid":"74","start":{"x":1791.9999999999989,"y":454.9999999999998},"end":{"x":1788.9999999999989,"y":499.9999999999998}},{"uid":"76","start":{"x":1789.9999999999989,"y":373.9999999999998},"end":{"x":1786.9999999999989,"y":418.9999999999998}},{"uid":"78","start":{"x":1793.9999999999989,"y":288.9999999999998},"end":{"x":1790.9999999999989,"y":333.9999999999998}},{"uid":"81","start":{"x":209.9999999999999,"y":419.9999999999997},"end":{"x":265.9999999999999,"y":368.9999999999997}}],"texts":[{"uid":"12","text":"// Door closed","topLeft":{"x":365.99999999999955,"y":323.99999999999983}},{"uid":"14","text":"// Door opened","topLeft":{"x":360.9999999999993,"y":581.9999999999997}},{"uid":"15","text":"entry / ^door(\"closed\")","topLeft":{"x":364.99999999999966,"y":353.9999999999998}},{"uid":"16","text":"entry / ^door(\"open\")","topLeft":{"x":360.99999999999966,"y":631.9999999999997}},{"uid":"19","text":"doorMouseDown","topLeft":{"x":260.9999999999996,"y":527.9999999999998}},{"uid":"21","text":"doorMouseUp","topLeft":{"x":402.99999999999955,"y":474.9999999999998}},{"uid":"31","text":"setMagnetron(state)","topLeft":{"x":645.9999999999993,"y":469.99999999999955}},{"uid":"36","text":"[state==\"on\"]","topLeft":{"x":747.9999999999991,"y":526.9999999999997}},{"uid":"38","text":"[state == \"off\"]","topLeft":{"x":735.9999999999993,"y":428.9999999999997}},{"uid":"39","text":"// Magnetron off","topLeft":{"x":847.9999999999991,"y":353.9999999999998}},{"uid":"40","text":"// Magnetron on","topLeft":{"x":853.9999999999991,"y":602.9999999999995}},{"uid":"49","text":"ringBell","topLeft":{"x":1298.9999999999989,"y":485.99999999999966}},{"uid":"50","text":"after 10 ms","topLeft":{"x":1192.9999999999989,"y":479.99999999999966}},{"uid":"51","text":"// bell","topLeft":{"x":1241.9999999999989,"y":605.9999999999995}},{"uid":"52","text":"// no bell","topLeft":{"x":1234.9999999999989,"y":353.9999999999998}},{"uid":"60","text":"setTimeDisplay(value) / timeDisplay = value;","topLeft":{"x":1799.9999999999989,"y":615.9999999999998}},{"uid":"65","text":"entry / timeDisplay = 0;","topLeft":{"x":464.9999999999997,"y":91.99999999999996}},{"uid":"68","text":"startPressed / ^startPressed","topLeft":{"x":1664.9999999999989,"y":349.99999999999983}},{"uid":"71","text":"stopPressed / ^stopPressed","topLeft":{"x":1646.9999999999989,"y":433.99999999999983}},{"uid":"73","text":"incTimePressed / ^incTimePressed","topLeft":{"x":1643.9999999999989,"y":509.9999999999998}},{"uid":"75","text":"incTimeReleased / ^incTimeReleased","topLeft":{"x":1825.9999999999989,"y":477.9999999999998}},{"uid":"77","text":"stopReleased / ^stopReleased","topLeft":{"x":1823.9999999999989,"y":397.9999999999998}},{"uid":"79","text":"startReleased / ^startReleased","topLeft":{"x":1830.9999999999989,"y":311.9999999999998}},{"uid":"82","text":"doorMouseUp","topLeft":{"x":230.99999999999986,"y":404.9999999999998}},{"uid":"83","text":"// closing door","topLeft":{"x":181.9999999999999,"y":464.9999999999997}}]};

export const [microwaveAbstractSyntax, microwaveErrors] = parseStatechart(microwaveConcreteSyntax, detectConnections(microwaveConcreteSyntax));

if (microwaveErrors.length > 0) {
  console.log({microwaveErrors});
  throw new Error("there were errors parsing microwave plant model. see console.")
}
